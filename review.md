src/app/api/tickets/route.ts (lines 410-441) (+ src/app/admin/tickets/page.tsx (lines 61-65)) — The API now calls zammadClient.getUser for every ticket returned. The admin page still fetches fetchTickets(1000), so a single page load will fan out up to 1 000 additional HTTP requests to Zammad (and the search endpoint does the same at src/app/api/tickets/search/route.ts (lines 194-230)). This is a major performance regression and will almost certainly trip rate limits or time out when large queues are loaded.

src/lib/hooks/use-conversation.ts (lines 162-204) together with the SSE handlers in src/app/customer/conversations/[id]/page.tsx (lines 60-69) and src/app/staff/conversations/[id]/page.tsx (lines 58-70) — fetchMessages now pulls 1 000 messages by default, reverses them, and every SSE event still calls fetchMessages(conversationId) with the default parameters. That means each incoming chat message causes both the customer and staff UI to download and process up to 1 000 messages again. The original bug (not seeing the latest messages) is avoided, but we now perform megabyte-scale re-fetches on every keystroke without actually providing “load more” pagination. This will bog down the conversation view as soon as chats become active.